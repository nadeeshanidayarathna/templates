const { group } = require("yargs");
const base = require("../../../common/base");

const scraper = async function download(url, sp, path) {
    try {
        console.log("callings scraper url:" + url + " sp:" + sp + " path:" + path);
        const browser = await base.puppeteer().launch({
            headless: false,
            devtools: false
        });
        {
            // 1.Download
            console.log("getting url:" + url);
            const page = await browser.newPage();
            await base.downloadPage(page, url, sp, path);

            // 2.Identify
            // 3.Wrap
            await page.waitForSelector("#MainContent_pnlHtmlControls");
            await page.evaluate(function process() {
                // #############
                // # root:info #
                // #############
                const level1Element = document.querySelectorAll('.WordSection1 .MsoTitle')[0];
                wrapElement(document, level1Element, "level1");
                wrapElementDate(document, "issue-date", "2020-12-08" + "T00:00:00");
                wrapElementDate(document, "effective-date", "2022-01-01" + "T00:00:00");

                // ################
                // # content:info #
                // ################
                const contentElement = document.querySelector('#MainContent_pnlHtmlControls');
                wrapElement(document, contentElement, "ease-content");

                const level2Element = document.querySelectorAll(".IH, .AS, .D2Aform[align='center']");
                wrapElements(document, level2Element, "level2");

                const level3Element = document.querySelectorAll(".WordSection2 > h2, .WordSection4 > p > strong");
                wrapElements(document, level3Element, "level3");

                const level2Elements = document.querySelectorAll('.WordSection4 > h1');
                wrapElements(document, level2Elements, "level2", group = true);

                const level4Elements = document.querySelectorAll('.WordSection4 > h2:not(h2:last-of-type)');
                wrapElements(document, level4Elements, "level4");

                // removing unwanted content from ease-content
                Array.prototype.forEach.call(document.querySelectorAll(".WordSection2 > p > img, .WordSection1 img"), function (node) { node.remove(); });
                // Array.prototype.forEach.call(document.querySelectorAll(".WordSection2 > p > span > img"), function (node) { node.setAttribute('src', "data:image/gif;base64,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") });
                return Promise.resolve();
            });
            // 4.Write
            await base.writePage(page, url, sp, path, true, true, false);
            await page.close();
        }
        await base.test().runPageTest(browser, url, sp, path);
        await browser.close();
    } catch (e) {
        console.log(e);
        console.log("Failed to scrape!!!");
        process.exit(1);
    }
}
module.exports = scraper;